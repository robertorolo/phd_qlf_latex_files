Parte 1
=========

Slide 1
********

Um boa dia a todos, gostaria primeiramente de agradecer a presença de todos vocês, em especial doutor Diego, doutor Luís Eduardo, Professor João Felipe. 

Meu nome é Roberto Rolo sou engenheiro de minas, fiz meu mestrado aqui na UFRGS com o professor joão Felipe intitulado modelagem geológica implícita com funções distâncias assinaladas. 
Minha proposta de tese é uma extensão natural do trabalho desenvolvido no meu mestrado: eu proponho aprimoramentos em modelagem geológica implícita com funções distância assinaladas.

Slide 2
********

Nessa apresentação eu ser breve na introdução ao assunto modelagem geológica, vou falar sobre a metodologia tradicional, explícita, sobre métodos automáticos e modelagem implícita, dando destaque para a modelagem implícitas com funções ditância assinaladas.

Então vou apresentar o estado da arte em modelagem geológica implícita com distâncias assinaladas usando um banco de dados tridimensional pra mostrar a mecânica do método os diferentes métodos para avaliação de incerteza de modelos geológicos implícitos.

Depois disso eu vou apontar os principais problemas da metodologia e apresentar minha proposta de tese que tem como objetivo eliminar alguns desses problemas.

Slide 3
*********

Estimativas de recursos e reservas minerais demandam a construção de modelos numéricos de teores: 

* de longo prazo, que abrangem toda a extensão do depósito mineral e compreendem todo o tempo de vida da mina;

* Modelos de médio prazo para planejar de um a seis meses no futuro ;

* E  curto prazo pra balizar semanalmente ou diariamente as decisões relativas a controle de teores e planejamento mais detalhado da mina.

A construção desses modelos exige quatro grandes atividades:

* Coleta e gerenciamento de dados;

* Interpretação e modelagem geológica;

* Atribuição de teores;
 
* e Avaliação e gerenciamento da incerteza geológica e de teores.

O escopo dessa proposta tese está no passo 2: interpretação e modelagem geológica.

Slide 4
*********

Após a coleta, gerenciamento e checagem dos dados, é necessário identificar diferentes domínios. A determinação dos domínios deve ser baseada no conhecimento geológico, como zonas de oxidação, diferentes litologias, alteração ou limites estruturais e deve ser suportada por uma extensiva análise estatística e variográfica e pode ser baseada na combinação de uma ou mais variáveis.

A definição de diferentes domínios é necessária porque a inferência geostatística exige a decisão de estacionariedade. Os teores em cada domínio estacionários pertencem a populações estatística diferentes caracterizadas por seu modelo de distribuição de probabilidades (o histograma) e seu modelo de covariâncias (o variograma).

Uma vez que os domínios tenham sido definidos um modelo tridimensional que dene os limites de cada função aleatória estacionária deve ser construído. Esse é o modelo geológico: Ele define a jurisdição espacial de cada função aleatória. O modelo geológico é o alicerce para para todo o trabalho de estimativa subsequente e muitas vezes é o fator de maior importância na estimativa das tonelagens mineralizadas.

Slide 5
*********

Tradicionalmente os modelos geológico são construídos de forma explícita: o geomodelador digitaliza manualmente polilinhas em seções verticais e horizontais a partir dos dados de sondagem, as polilinhas são unidas por linhas guias e trianguladas gerando uma representação do sólido geológico.

Slide 6
********

Embora a metodologia tradicional seja direta e simples e que softwares de mineração forneçam ferramentas computacionais para agilizar o processo, ainda existem uma série de desvantagens e limitações:

* O processo é tedioso e demorado. Em depósitos de alta complexidade não é raro o geomodelador rabalhar por três meses no modelo geológico.

* Digitaliazar manualmente as polilinhas exige muito tempo de um profissional experiente;

* A geometria dos corpos geolóigcos muitas vezes precisa ser simplificada para que o modelo seja concebido em tempo hábil;

* O processo é subjetivo, Geomodeladores diferentes criam modelos geológicos diferentes a partir do mesmo banco de dados;

* Por esse motivo os modelos geológicos criados a partir do método tradicional não são replicáveis consequentemente não auditáveis;

* O método é inflexível, já que a meidida que novas amostras são obtidas, a atualização do modelo demanda nova gigitalização manual;

* Em muitas minas, talvez na grande maioria delas, apenas um modelo geológico é construído e mantido por questões de tempo. Assim não há a oportunidade de modelar interpretações geológicas alterantivas e comparar estimavas de recursos baseadas em diferentes modelos. Além da redigitalização manual não existe forma direta de incorporar múltiplas realizações possíveis para a localização dos limites entre os diferentes domínios no método tradicional.

Slide 7
*********

No interior dos domínios não existe incerteza relacionada ao modelo geoógico, No esquema do slide azul é azul e vermelho é vermelho, a incerteza é associada ao limite que separa os diferentes domínios. Sua definição, em sub superfície, é um mero palpite.

Em muitos casos a incerteza do modelo geológico pode ser uma fonte de incerteza crucial. Em depósitos de veio de ouro por exemplo, o volume mineralizado é um indicador economico vital do projeto e está diretamente ligado ao modelo geológico, ignorar a incerteza do modelo geológico pode ser devastador para o empredimento. A incerteza do modelo geológico DEVE ser avaliada. 

Slide 8
********

As desvantagens do método explícito impulsionaram a criação de métodos automáticos, ou pelo menos semi automáticos, de modelagem geológica. Para a criação de modelos determinísticos, podem ser utilizados desde métodos matemáticos mais simples como o vizinho mais próximo, ou geostatístico com a krigagem dos indicadores. 

Já a necessidade de avaliação da incerteza impulsionou o desenvolvimento de métodos estocásticos, baseados em múltiplas realizações equiprováveis do modelo geológico. Metodologias estabelecidas da geostatística clássica, baseadas no variograma, são a simulação sequencial dos indicadores, simulação gaussiana truncada e siulação plurigaussiana truncada. Outros métodos não baseados no variograma também foram desenvolvidos: simulação multi ponto, simulação baseada em objetos são os principais expoentes. 

Slide 9
**********

Uma outra família de métodos que impotaram técnicas da computação gráfica são os métodos implícitos. A idéia central é usar uma função implícita para demarcar regiões no espaço. 

Todos os métodos implícitos compartilham da mesma mecânica. A partir de dados esparsos que podem ser categorias, dados estruturais, podem ser em pontos ou linhas... Uma função implícita é derivada, o campo escalar, que têm um número infinito de isosuperfícies. Para visualizar o modelo geológico uma isosuperfície expecífica deve ser extraída desse modelo implícito, geralmente a isosuperfície 0.

O que difere os métodos implícitos é a função volume, que é interpolada para criação do modelo implícito. mallet propôs uma função volume cronológica, baseada na posição estratigráfica das unidades geológicas. Um outro método implícito, nascido na escola de minas da frança, usa co-krigagem de incrementos em campo potencial omitindo a função volume.

De longe a função volume mais comum é a função distância assinalada, aplicações desse método são encontradas por toda a literatura de interpolação de dados esparços. Na modelagem geológica o método é competente em capturar a geometria e extensão de corpos geológicos e tem sido aplicada com sucesso há mais de 10 anos na exploração mineral. Nos últimos anos vem ganhado espaço em diversos softwares comerciais o maior exemplo é o leapfrog.  

Parte 2
==========

Slide 10
**********

Nos próximos slides a modelagem geológica implícita com distâncias assinaladas é explicada passo a passo e os métodos para avaliação de inceteza disponíveis na literatura são apresentadas. 

Um banco de dados sintético que emula um depósito de cobre pórfiro é usado para exempleficar e comparar os métodos. São 72 furos, totalizando cerca de 3 mil amostras, distribuídas entre três categorias: uma rocha encaixante e duas intrusões: uma vertical e uma tabular com mrgulho. O slide mostra as proprções de cada litologia e uma vista em perspectiva das amostras.

Slide 11
**********

O primeiro passo é codificar as amostras em indicadores: uma amostra recebe o indicador 1 se pertencer ao domínio que está sendo modelado e 0 caso contrário. O slide mostra as amostras amostas codificadas em indicadores para as categorias 1, 2 e 3.

Slide 12
***********

O segundo passo é o cáculo das distâncias assinaladas: para cada ponto amostral, a menor distância euclideana até um outro ponto amostal que pertença à um indicador oposto é computada e atribuída aquele ponto. Com o sinal negativo caso pertença ao domínio que está sendo modelado e com o sinal positivo caso contrário.

Para o esquema do slide: pra essa amostra preta aqui em cima, ela não pertence ao domínio, então foi codificada com o indicador 0, eu vou computar então a menor distância entre ela e uma outra amostra codificada com o indicador oposto, uma amostra vermelha, que pertence ao domínio. são 12 metros, então essa amostra preta vai receber o valor 12 metros com o sinal positivo, porque não pertence ao domínio. Para a amostra vermelha, vou computar a menor ditância até uma amostra preta, que é essa daqui, 8 metros, então ela recebe 8 metros com o sinal negativo porque pertence ao domínio que está sendo modelado. E finalmente a ultima amostra preta está a 8 metros da vermelha, recebe 8 com o sinal positivo, porque está fora do domínio modelado.

Slide 13
***********

Esse slide mostra as distâncias assinaladas calculadas para as litologias 1, 2 e 3.

Slide 14
***********

Agora as distâncias calculadas precisam ser interpoladas, alguns dos métodos de interpolação, que eu vou detalhar daaqui a pouco, exigem uma função de covariância, que pode ser obtida a partir dos dados.

Aqui surge o primeiro problema do método: as distâncias assinaladas não são estacionárias, isso quer dizer que o variograma não se estabiliza em um patamar, ele cresce indefinidamente à medida que o lag aumenta, dificultando a inferência do alcance. Além disso, as distâncias apresentam um comportamento extremamaente contínuo, que torna difícil a indentificação de direções principais. Esse caráter contínuo das distâncias faz com que o modelo gaussiano seja o mais indicado pra ajustar os variogramas.

A literatura sugere alternativas:

* Treinar o vvariograma usando validação cruzada;

* Tentar modelera de fato os variogramas experimtnais;

* Calcular e modelar o variograma dos indicadores e transformá-los em um equivalente gaussiano;

* Inferir um modelo de covariância plausível visualmente, a partir das amostras ou mapas delineados.

Slide 15
**********

Esse slide mostra os variogramas das distâncias asssinaladas calculados e modelados a partir do modelo gaussiano para as três litologias. Aqui eu calculei o variograma estandarizado, Então defino o range na na variância igual a um, mas note que o valor da variância continua aumentando.

Slide 16
**********

Já esse slide mostra os variograma calculados e modelados a partir do modelo esférico para os indicadores de cada categoria. Em tese, os variogramas dos indicadores são mais fáceis de modelar esão estacionários. Mas na prática, muitas vezes os variogramas dos indicadores são mais ruidosos e menos estruturados do 	que o das das distâncias assinaladas.

Slide 17
***********

Além das alternativas sugeridas pela literatura para modelagem do variograma, aqui no laboratório a gente testou as tabelas de covariância: nesse método a partir dos dados eu crio um modelo base de covariância de onde é possível derivar, usando transformada de fourrier, a tabela de covariâcia qu epode ser usada no processo de estimativa ou simulação. 

Os resultados são promissores, torna o método completamente automático, sem nenhuma interferência do usuário. Porém, ainda existem alguns problemas operacionais com as tableas de covariância que nãopermitem uma aplicação geral pra qualquer tipo de depósito.

Slide 18
**********

Essas ditâncias calculadas e variografadas devem ser interpoladas para todos os nós de um grid. Para um número constante de amostras o tempo necessário para interpolar a função volume aumenta linearmente com o número de nós. Os parâmetros do grid, muitas vezes são determinados por parâmetros técnicos do projeto. Para a definição do modelo geológico é impotante que o grid possa reproduzir a menor estrutura geológica de interesse.

Essa imagem mostra um modelo geológico multi categórico em grids de diferentes resoluões: para as dimensões 15 por 10 parecem muito grosseiros e as categorias dos pontos amostrais não são reproduzidas, já a dimensão 25 por 15 eu ganho um pouco de resolução, mas as estruturas  ainda não tem uma forma geológica. Pra 50 por 35 as formas o modelo se suavizam, mas ainda tem algum serrilhado, 100 por 75 as formas estão bastante suaves e as categorias das amostras são reproduzidas. Pra 150 por 120 não parece haver significativa melhora em relação ao modelo anterior. 

Então é preciso encontrar um balanço entre resolução e tempo de interpolação, nesse caso algo entre 50 por 35 e 100 por 75, a resolução pode aumnetar a medida que o projeto avança e mais amostras são obtidas.

Slide 19
*********

Par aesse estudo de caso, dois grid foram criados, um grosso com aproximadamente 100 mil nós e um fino com aproximadamente 1 milhão de nós.

Slide 20
*********

Qualquer método de interpolação pode ser usado para as distâncias assinaladas, até mesmo métodos do inverso da distância produzem resultados realistas. A krigagem e as funções de bases radiais permitem incorporar informaçõ adicional através dos modelos de covariância, porém a literatura recomenda o uso de métodos globais, ouseja, que usa, todas as amostras em todas as estimativas.

Diferentes métodos de interpolação podem ser encontrados na literatura:

* housseini e deutcsh usaram iqd;

* SIlva usou krigagem ordinária global;

* Eu usei krigagem ordinária na minha dissertação;

* O Boisvert usa LVA kriging pra interpolar com anistropia local;

* e o jonh manchuck e o clayton propusera um novo método de interpolação que integra seções digitalizadas e amostras.

Slide 21
**********

Esse slide mostra o porquê  de usar métodos globais. O primeiro modelo foi interpolado por krigagem ordinária usando 40 amostras por estimaitva, e fica bem evidente o surgimento de artefatos, causados pel aestratégia de busca. O segundo modelo foi interpolado com 100 amostras por estimativa e mesmo assim ainda é possível observar artefatos no modelo. O último modelo foi interpolado por RBF, que é um método global e gera modelos suaves e livres de artefatos.


Slide 22
**********

Apesar de que nos métodos globais a matriz de covariâcias das amostras com elas mesmo só precise ser invertida uma vez, para bancos de dados volumosos isso ainda é uma tarefa que demanda um grande esformço computacional, então, é possível particionar o problema em problemas menores, sobrepostos, que são mais eficientes, e unir todas as partes.

Slide 23
*********

Essa tabela mostra um benchmark dos métodos de interpolação para o banco de dados apresentado, as distâncias foram interpoladas por diferentes métodos no grid grosso que tem 100 mil nós e no grid fino com 1 milhão.








  

